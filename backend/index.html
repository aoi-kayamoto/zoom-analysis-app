<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Zoom Analysis App</title>
</head>
<body>

<h1>Zoom分析アプリ</h1>

<input type="file" id="fileInput">
<br><br>
<button id="analyzeBtn">分析する</button>

<p id="status"></p>

<script>
document.getElementById("analyzeBtn").addEventListener("click", async () => {

    const fileInput = document.getElementById("fileInput");
    const file = fileInput.files[0];

    if (!file) {
        document.getElementById("status").innerText = "⚠ ファイルが選択されていません";
        return;
    }

    const formData = new FormData();
    formData.append("file", file);

    document.getElementById("status").innerText = "解析中...";

    try {
        const response = await fetch("/analyze", {
            method: "POST",
            body: formData
        });

        const result = await response.json();
        document.getElementById("status").innerText = "完了: " + JSON.stringify(result);

    } catch (error) {
        document.getElementById("status").innerText = "エラー: " + error;
    }
});
</script>

</body>
</html>
